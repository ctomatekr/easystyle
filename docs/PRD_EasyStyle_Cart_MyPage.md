# EasyStyle - 장바구니 & MyPage 기능 PRD (Product Requirements Document)

## 📋 문서 개요

**문서명**: EasyStyle 장바구니 & MyPage 기능 PRD
**버전**: v1.0
**작성일**: 2025-09-15
**업데이트일**: 2025-09-15

---

## 🎯 프로젝트 개요

### 서비스 설명
EasyStyle은 AI 기반 개인 스타일링 추천 서비스로, 사용자가 업로드한 이미지를 기반으로 AI가 개인 맞춤형 스타일을 생성하고 관련 상품을 추천하는 서비스입니다.

### 현재 구현된 핵심 기능
- ✅ 사용자 인증 (회원가입, 로그인)
- ✅ AI 스타일 생성 (이미지 업로드 → AI 스타일링 → 상품 추천)
- ✅ 상품 추천 및 선택
- ✅ 기본 MyPage 메뉴 (프로필 표시)

### 추가 개발 필요 기능
- 🔄 장바구니 기능
- 🔄 MyPage 상세 기능
- 🔄 주문/구매 프로세스
- 🔄 사용자 프로필 관리

---

## 🛒 장바구니 기능 요구사항

### 1. 기능 목표
- 사용자가 AI 추천 상품을 장바구니에 담고 관리할 수 있는 기능
- 스타일별 상품 조합을 저장하고 나중에 구매할 수 있는 기능
- 실시간 가격 업데이트 및 재고 상태 확인

### 2. 핵심 기능

#### 2.1 장바구니 추가/제거
**사용자 스토리**: "AI가 추천한 상품을 장바구니에 담아서 나중에 구매하고 싶어요"
- **기능**: 상품 상세 페이지나 추천 결과에서 장바구니에 추가
- **조건**: 로그인한 사용자만 이용 가능
- **데이터**: 상품 정보, 선택 사이즈, 수량, 추가 일시

#### 2.2 장바구니 목록 관리
**사용자 스토리**: "장바구니에 담은 상품들을 확인하고 관리하고 싶어요"
- **기능**:
  - 장바구니 상품 목록 조회
  - 수량 변경
  - 개별 상품 삭제
  - 전체 비우기
  - 선택 삭제

#### 2.3 스타일 세트 저장
**사용자 스토리**: "AI가 추천한 전체 스타일을 하나의 세트로 저장하고 싶어요"
- **기능**:
  - 스타일 추천 결과를 "스타일 세트"로 장바구니에 저장
  - 스타일 세트별 할인 적용 가능
  - 세트 단위 구매 옵션

#### 2.4 가격 및 할인 계산
**사용자 스토리**: "장바구니 총 금액과 할인 혜택을 확인하고 싶어요"
- **기능**:
  - 실시간 가격 업데이트
  - 할인 쿠폰 적용
  - 스타일 세트 할인
  - 배송비 계산
  - 총 결제 금액 표시

### 3. UI/UX 요구사항

#### 3.1 장바구니 아이콘
- 헤더에 장바구니 아이콘 표시
- 담긴 상품 수량 배지 표시
- 클릭 시 장바구니 페이지로 이동

#### 3.2 장바구니 페이지
- 상품 이미지, 이름, 브랜드, 가격 표시
- 사이즈/수량 선택 옵션
- 개별/전체 삭제 기능
- 계속 쇼핑/결제 진행 버튼

#### 3.3 미니 장바구니 (옵션)
- 장바구니 아이콘 호버 시 미니 팝업
- 최근 담은 상품 3-5개 미리보기
- 빠른 삭제 및 결제 진행 링크

---

## 👤 MyPage 기능 요구사항

### 1. 기능 목표
- 사용자의 개인정보, 주문내역, 스타일 히스토리를 관리할 수 있는 통합 페이지
- 개인화된 스타일 추천 향상을 위한 선호도 설정 기능
- 서비스 사용 통계 및 분석 정보 제공

### 2. 핵심 기능

#### 2.1 개인정보 관리
**사용자 스토리**: "내 개인정보를 확인하고 수정하고 싶어요"
- **기능**:
  - 기본 정보: 이름, 이메일, 전화번호
  - 프로필 사진 업로드/변경
  - 비밀번호 변경
  - 계정 탈퇴

#### 2.2 스타일 프로필 관리
**사용자 스토리**: "내 체형과 선호 스타일을 설정해서 더 정확한 추천을 받고 싶어요"
- **기능**:
  - 신체 정보: 키, 체중, 체형
  - 사이즈 정보: 상의/하의/신발 사이즈
  - 선호 스타일: 캐주얼, 포멀, 스포티 등
  - 선호 색상, 브랜드
  - 예산 범위 설정

#### 2.3 주문 내역
**사용자 스토리**: "지금까지의 주문 내역을 확인하고 재주문하고 싶어요"
- **기능**:
  - 주문 목록 (날짜순, 금액순 정렬)
  - 주문 상태 확인
  - 주문 상세 정보
  - 재주문 기능
  - 주문 취소/반품 신청

#### 2.4 스타일 히스토리
**사용자 스토리**: "내가 만든 스타일들을 다시 보고 재사용하고 싶어요"
- **기능**:
  - AI 스타일링 히스토리 목록
  - 생성된 스타일 이미지 갤러리
  - 스타일별 추천 상품 기록
  - 즐겨찾기 스타일 저장
  - 스타일 공유 기능

#### 2.5 위시리스트
**사용자 스토리**: "마음에 든 상품들을 따로 저장해두고 싶어요"
- **기능**:
  - 상품 위시리스트 추가/삭제
  - 위시리스트 카테고리 분류
  - 가격 변동 알림 설정
  - 위시리스트에서 장바구니로 이동

#### 2.6 알림 설정
**사용자 스토리**: "내가 원하는 알림만 받고 싶어요"
- **기능**:
  - 이메일 알림 설정
  - 푸시 알림 설정
  - 마케팅 정보 수신 동의
  - 새로운 스타일 트렌드 알림

### 3. UI/UX 요구사항

#### 3.1 MyPage 메인 대시보드
- 사용자 기본 정보 요약 카드
- 최근 스타일링 히스토리 미리보기
- 진행 중인 주문 상태
- 위시리스트 상품 수
- 적립금/포인트 현황

#### 3.2 네비게이션 메뉴
```
MyPage
├── 대시보드
├── 개인정보 관리
│   ├── 기본 정보
│   ├── 스타일 프로필
│   └── 계정 설정
├── 주문 관리
│   ├── 주문 내역
│   ├── 반품/교환
│   └── 배송 주소록
├── 스타일 기록
│   ├── 스타일 히스토리
│   ├── 즐겨찾는 스타일
│   └── 공유한 스타일
├── 위시리스트
└── 알림 설정
```

#### 3.3 반응형 디자인
- 모바일 우선 설계
- 태블릿, 데스크톱 대응
- 터치 친화적 인터페이스

---

## 🗄️ 데이터베이스 설계

### 1. 장바구니 관련 모델

#### Cart (장바구니)
```python
class Cart(models.Model):
    user = ForeignKey(User)
    created_at = DateTimeField(auto_now_add=True)
    updated_at = DateTimeField(auto_now=True)
```

#### CartItem (장바구니 상품)
```python
class CartItem(models.Model):
    cart = ForeignKey(Cart)
    product = ForeignKey(Product)
    size = CharField(max_length=10)
    quantity = PositiveIntegerField(default=1)
    style_set_id = CharField(max_length=100, blank=True)  # 스타일 세트 구분
    added_at = DateTimeField(auto_now_add=True)
```

#### StyleSet (스타일 세트)
```python
class StyleSet(models.Model):
    user = ForeignKey(User)
    name = CharField(max_length=200)
    style_recommendation = ForeignKey(StyleRecommendation)
    products = ManyToManyField(Product)
    total_price = DecimalField(max_digits=10, decimal_places=2)
    discount_rate = DecimalField(max_digits=5, decimal_places=2, default=0)
    created_at = DateTimeField(auto_now_add=True)
```

### 2. 주문 관련 모델

#### Order (주문)
```python
class Order(models.Model):
    user = ForeignKey(User)
    order_number = CharField(max_length=100, unique=True)
    status_choices = [
        ('pending', '결제 대기'),
        ('paid', '결제 완료'),
        ('processing', '처리 중'),
        ('shipped', '배송 중'),
        ('delivered', '배송 완료'),
        ('cancelled', '취소'),
        ('refunded', '환불')
    ]
    status = CharField(max_length=20, choices=status_choices, default='pending')
    total_amount = DecimalField(max_digits=10, decimal_places=2)
    shipping_address = JSONField()
    created_at = DateTimeField(auto_now_add=True)
    updated_at = DateTimeField(auto_now=True)
```

#### OrderItem (주문 상품)
```python
class OrderItem(models.Model):
    order = ForeignKey(Order)
    product = ForeignKey(Product)
    size = CharField(max_length=10)
    quantity = PositiveIntegerField()
    price = DecimalField(max_digits=10, decimal_places=2)
    style_set_id = CharField(max_length=100, blank=True)
```

---

## 🚀 개발 우선순위

### Phase 1: 기본 장바구니 기능 (Week 1-2)
1. **백엔드**: Cart, CartItem 모델 구현
2. **API**: 장바구니 CRUD API 개발
3. **프론트엔드**: 장바구니 기본 UI 구현
4. **기능**: 상품 추가/삭제/수량 변경

### Phase 2: MyPage 기본 기능 (Week 3-4)
1. **백엔드**: Order, OrderItem 모델 구현
2. **API**: 주문 내역, 프로필 관리 API
3. **프론트엔드**: MyPage 대시보드 및 네비게이션
4. **기능**: 개인정보 수정, 주문 내역 조회

### Phase 3: 고도화 기능 (Week 5-6)
1. **백엔드**: StyleSet, 알림 설정 기능
2. **API**: 스타일 히스토리, 위시리스트 API
3. **프론트엔드**: 스타일 히스토리, 고급 설정 UI
4. **기능**: 스타일 세트 저장, 알림 관리

### Phase 4: 결제 및 주문 프로세스 (Week 7-8)
1. **백엔드**: 결제 연동 (아임포트/토스페이먼츠)
2. **API**: 결제 처리, 주문 관리 API
3. **프론트엔드**: 결제 페이지, 주문 완료 페이지
4. **기능**: 실제 결제 프로세스 구현

---

## 📊 성능 및 기술 요구사항

### 성능 목표
- 장바구니 페이지 로딩 시간: < 2초
- 상품 추가/삭제 반응 시간: < 500ms
- MyPage 대시보드 로딩 시간: < 3초
- 동시 사용자 500명 지원

### 기술 스택
- **백엔드**: Django + Django REST Framework
- **프론트엔드**: React + TypeScript
- **데이터베이스**: PostgreSQL (현재 SQLite에서 마이그레이션 고려)
- **캐싱**: Redis (장바구니 세션 관리)
- **결제**: 아임포트 또는 토스페이먼츠

### 보안 요구사항
- 사용자 인증/인가 검증
- 개인정보 암호화 저장
- CSRF/XSS 공격 방어
- API 요청 제한 (Rate Limiting)

---

## 🧪 테스트 계획

### 단위 테스트
- 모델 검증 테스트
- API 엔드포인트 테스트
- 비즈니스 로직 테스트

### 통합 테스트
- 장바구니 전체 플로우 테스트
- MyPage 기능 통합 테스트
- 결제 프로세스 테스트

### 사용자 테스트
- 사용성 테스트 (10명 내외)
- A/B 테스트 (UI/UX 개선)
- 성능 테스트 (부하 테스트)

---

## 📈 성공 지표 (KPI)

### 장바구니 기능
- 장바구니 전환율: > 15%
- 장바구니 이탈률: < 70%
- 평균 장바구니 상품 수: 3개 이상

### MyPage 기능
- MyPage 방문율: > 30%
- 프로필 완성률: > 60%
- 재방문률: > 40%

### 전체 서비스
- 월 활성 사용자(MAU) 증가: 20%
- 사용자 체류 시간 증가: 30%
- 서비스 만족도: 4.0/5.0 이상

---

## 📋 위험 요소 및 대응 방안

### 기술적 위험
1. **데이터베이스 성능 저하**
   - 대응: 인덱싱 최적화, 캐싱 전략 수립
2. **프론트엔드 성능 이슈**
   - 대응: 코드 스플리팅, 이미지 최적화
3. **결제 연동 복잡성**
   - 대응: 단계별 테스트, 결제 대행사 기술 지원

### 사용자 경험 위험
1. **복잡한 UI로 인한 사용성 저하**
   - 대응: 사용자 테스트, 단계별 가이드 제공
2. **장바구니 이탈률 증가**
   - 대응: 간소한 결제 프로세스, 가격 투명성

### 비즈니스 위험
1. **개발 일정 지연**
   - 대응: MVP 우선 개발, 단계별 배포
2. **운영 비용 증가**
   - 대응: 클라우드 자동 스케일링, 비용 모니터링

---

## 📅 마일스톤

| 단계 | 기간 | 주요 기능 | 완료 기준 |
|------|------|----------|----------|
| Phase 1 | Week 1-2 | 기본 장바구니 | 상품 추가/삭제/수량 변경 |
| Phase 2 | Week 3-4 | MyPage 기본 | 개인정보, 주문내역 조회 |
| Phase 3 | Week 5-6 | 고도화 기능 | 스타일 히스토리, 위시리스트 |
| Phase 4 | Week 7-8 | 결제 연동 | 실제 주문/결제 처리 |

---

*이 문서는 EasyStyle 서비스의 장바구니 및 MyPage 기능 개발을 위한 요구사항 정의서입니다. 개발 진행에 따라 지속적으로 업데이트됩니다.*